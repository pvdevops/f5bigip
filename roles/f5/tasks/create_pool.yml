---
# F5 playbook to create a pool if it does not exist
- name: Create a pool
  bigip_pool:
        provider: "{{ provider }}" 
        name: "{{ poolname }}"
        partition: "{{ partition }}"
        monitor_type: m_of_n
        quorum: 1
        monitors: 
            - /Common/http
            - /Common/tcp
        slow_ramp_time: 10
        lb_method: "least-connections-member"
        priority_group_activation: 0
        metadata:
            creator: ansible
        state: "{{ state }}"
